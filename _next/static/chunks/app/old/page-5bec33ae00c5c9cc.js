(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464,956],{6911:(e,s,r)=>{"use strict";r.d(s,{F_:()=>o,Ge:()=>d,Gm:()=>c,Ox:()=>l});var t=r(1087),i=r(8384),n=r(1057);let a=t.E.get(t.I.I_DossierService);function l(){return(0,n.S)(()=>a.recupererDossiers(),[])}function o(e){return(0,n.S)(e=>a.recupererDossierParSlug(e),[e],{actif:!!e})}function c(){return(0,i.L)(async(e,s)=>{await a.creerDossier(e,s)})}function d(){return(0,i.L)(async(e,s,r)=>{await a.supprimerDossier(e,s,r)})}},7930:(e,s,r)=>{Promise.resolve().then(r.bind(r,9118))},9118:(e,s,r)=>{"use strict";r.d(s,{default:()=>S});var t=r(4799),i=r(6886),n=r(1463),a=r.n(n);function l(){return"old"==(0,i.r)()?(0,t.jsx)("div",{className:"mx-auto px-4 border-2 border-black bg-white max-w-3xl",children:(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("h2",{className:"font-bold text-3xl pt-4",children:"Bienvenue sur le Forum de SuperFlashAtomicMan et Vince"}),(0,t.jsx)("p",{className:"px-2 text-lg",children:"Si vous n'\xeates ni l'unique SuperFlashAtomicMan, ni l'audacieux Vince, ni le TRES intelligent Mister Owl, vous n'\xeates PAS le bienvenue ici ! Ce forum est priv\xe9 et interdit aux adultes !"})]})}):(0,t.jsx)("section",{className:"mx-auto px-4",children:(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("h1",{className:"text-6xl font-extrabold text-primary-dark drop-shadow-md leading-tight",children:"Bienvenue sur le Blog de Vacare"}),(0,t.jsxs)("p",{className:"mt-4 max-w-xl mx-auto text-lg text-neutral-700 leading-relaxed px-2",children:[(0,t.jsx)(a(),{href:"/old",className:"underline hover:bg-green-800 hover:text-white",children:"Anciennement"})," blog de Vince et de son meilleur ami, ce forum est aujourd'hui celui de Vacare et, par cons\xe9quent, de ",(0,t.jsx)("strong",{children:"N0Realis"}),".",(0,t.jsx)("br",{}),"Espace r\xe9serv\xe9 aux employ\xe9s autoris\xe9s, ne contactez Vacare qu'en cas de n\xe9cessit\xe9 absolue.",(0,t.jsx)("br",{}),(0,t.jsx)("strong",{children:"Nos r\xeaves deviendront r\xe9alit\xe9."})]})]})})}var o=r(4023),c=r(5030),d=r(8545);function u(e){let{onSubmit:s,chargement:r,erreur:n,estConnecte:a}=e,[l,u]=(0,o.useState)(""),[m,x]=(0,o.useState)(""),h=(0,i.r)(),p=(0,d.k)(h),g=async e=>{e.preventDefault(),await s(l,m),u(""),x("")};return a?(0,t.jsx)("section",{className:"w-full max-w-4xl mx-auto px-4 py-5",children:(0,t.jsxs)("form",{onSubmit:g,className:p.formContainer,children:[(0,t.jsx)("h3",{className:p.formH3,children:"old"==h?"Cr\xe9e ton dossier !":"Cr\xe9er un nouveau dossier de blogs"}),n&&(0,t.jsx)("div",{className:p.messageFormDiv,children:n.message}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"nom",className:p.formLabel,children:"Nom du dossier"}),(0,t.jsx)("input",{id:"nom",type:"text",value:l,onChange:e=>u(e.target.value),maxLength:255,className:p.formInput,required:!0}),(0,t.jsx)("label",{htmlFor:"description",className:p.formLabel,children:"Description du dossier"}),(0,t.jsx)("textarea",{id:"description",value:m,onChange:e=>x(e.target.value),rows:4,className:p.formInput,required:!0}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)("button",{type:"submit",disabled:r,className:p.formBouton,children:r?"Cr\xe9ation en cours...":"old"==h?"Cr\xe9er ton dossier !":"Cr\xe9er le dossier"})})]})]})}):(0,t.jsx)(c.I,{message:"Vous devez \xeatre connect\xe9 pour cr\xe9er un dossier."})}var m=r(5874),x=r(5294);function h(e){let{dossier:s,suppressionHandler:r}=e,n=(0,i.r)(),l=(0,d.k)(n),c="modern"==n?"":"/"+n,[u,h]=(0,o.useState)(!1),p=s.getElementSupprime();return(0,t.jsxs)("div",{className:l.listeDossierItem,children:[(0,t.jsxs)("div",{className:l.listeDossierLienConteneur,children:[(0,t.jsx)(a(),{href:"".concat(c,"/blogs/").concat(s.getSlug()),className:l.listeDosierLien,children:s.getTitre()}),r&&!p&&(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{onClick:()=>h(!0),className:l.supprimerDossierBtn,children:"Supprimer"}),(0,t.jsx)(m.A,{id:s.getId(),type:"dossier",suppressionHandler:r,dialogBoxOuverte:u,setDialogBox:h})]})]}),(0,t.jsx)("div",{className:l.listeDossierItemSoustitre,children:s.getDescription()}),(0,t.jsxs)("div",{className:l.listeDossierItemSoustitre,children:["Cr\xe9\xe9 par ",s.getUtilisateur().getUsername()]}),p&&(0,t.jsx)(x.A,{type:"dossier",donnees:p})]})}function p(e){let{dossiers:s,suppressionHandler:r}=e,n=(0,i.r)(),a=(0,d.k)(n);return(0,t.jsx)("section",{className:"mx-auto px-4",children:(0,t.jsx)("div",{className:a.listeDossiersDiv,children:(0,t.jsx)("ul",{className:a.listeDossiersUl,children:s.map(e=>(0,t.jsx)("li",{className:a.listeDossiersLi,children:(0,t.jsx)(h,{dossier:e,suppressionHandler:r})},e.getId()))})})})}var g=r(1545),j=r(1527),v=r(4216),N=r(6911),f=r(7828),b=r(7104);function S(e){var s;let{dossiersPrecharges:r}=e,{donnees:n,chargement:a,erreur:o,refetch:c}=(0,N.Ox)(),{mutation:d,chargement:m,erreur:x}=(0,N.Gm)(),{mutation:h}=(0,N.Ge)(),{estConnecte:S,utilisateur:D}=(0,j.S)(),{donnees:w,chargement:C,erreur:y}=(0,v.T)(n,a,o,r,f.O.fromJSON),k=(0,i.r)(),I=async(e,s)=>{await d(e,s),c()},V=async(e,s,r)=>{await h(e,s,r),c()},A=null!=(s=null==D?void 0:D.getEstAdmin())&&s,E=A?V:void 0,L=(0,b.M)(w,A,k);return(0,t.jsxs)(g.f,{chargement:C,erreur:y,estVide:0==w.length,messageVide:"Aucun dossier trouv\xe9",chargementMessage:"Chargement des dossiers...",children:[(0,t.jsx)(l,{}),(0,t.jsx)(u,{onSubmit:I,chargement:m,erreur:x,estConnecte:S}),(0,t.jsx)(p,{dossiers:L,suppressionHandler:E})]})}}},e=>{e.O(0,[463,862,398,572,408,89,358],()=>e(e.s=7930)),_N_E=e.O()}]);