"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{1527:(e,s,r)=>{r.d(s,{AuthProvider:()=>i,S:()=>c});var n=r(4799),a=r(6355),t=r(4023);let l=(0,t.createContext)(void 0);function i(e){let{children:s}=e,[r,i]=(0,t.useState)(!1),[c,o]=(0,t.useState)(null),[u,p]=(0,t.useState)(!0),{mutation:d}=(0,a.M1)(),{refetch:m}=(0,a.Tm)(),h=async()=>{try{p(!0),await d();let e=await m();if(!e)throw Error("Vous n'\xeates pas connect\xe9");return o(e),i(!0),{succes:!0}}catch(e){return i(!1),o(null),{succes:!1,erreur:e instanceof Error?e.message:"Erreur inconnue lors de l'authentification"}}finally{p(!1)}};return(0,t.useEffect)(()=>{h()},[]),(0,n.jsx)(l.Provider,{value:{estConnecte:r,utilisateur:c,chargement:u,verifierAuth:h,connexion:e=>{o(e),i(!0)},deconnexion:()=>{o(null),i(!1)}},children:s})}function c(){let e=(0,t.useContext)(l);if(void 0===e)throw Error("Hook du contexte inexistant");return e}},1545:(e,s,r)=>{r.d(s,{f:()=>i});var n=r(4799),a=r(6886),t=r(8545);function l(e){let{message:s,type:r="info"}=e,l=(0,a.r)(),i=(0,t.k)(l),c=i.messageBase,o="";switch(r){case"error":o=i.messageErreur;break;case"loading":o=i.messageChargement;break;default:o=i.messageDefaut}return(0,n.jsx)("div",{className:"".concat(c," ").concat(o),children:s})}function i(e){let{chargement:s,erreur:r,estVide:a,chargementMessage:t="Chargement en cours...",messageVide:i="Aucune donn\xe9e disponible",children:c}=e;return s?(0,n.jsx)(l,{message:t,type:"loading"}):r?(0,n.jsx)(l,{message:"Erreur : ".concat(r.message),type:"error"}):a?(0,n.jsx)(l,{message:i,type:"info"}):(0,n.jsx)("div",{children:c})}},4216:(e,s,r)=>{r.d(s,{T:()=>n});function n(e,s,r,n,a){let t,l=!n&&s,i=n?null:r;return{donnees:t=n?n.map(a):e?Array.isArray(e)?e:[e]:[],chargement:l,erreur:i,estVide:0===t.length}}},5030:(e,s,r)=>{r.d(s,{I:()=>c});var n=r(4799),a=r(6886),t=r(8545),l=r(1463),i=r.n(l);function c(e){let{message:s}=e,r=(0,a.r)(),l=(0,t.k)(r),c="modern"==r?"":"/"+r;return(0,n.jsx)("section",{className:"mx-auto px-4 py-5 max-w-4xl",children:(0,n.jsxs)("div",{className:l.accesRestreintDiv,children:[(0,n.jsx)("div",{className:l.accesRestreintConteneurH3,children:(0,n.jsx)("h3",{className:l.accesRestreintH3,children:"Acc\xe8s restreint"})}),(0,n.jsx)("p",{className:l.accesRestreintMessage,children:s}),(0,n.jsx)(i(),{href:c+"/connexion",className:l.accesRestreintLien,children:"Se connecter"}),(0,n.jsxs)("p",{children:["Pas encore de compte? ",(0,n.jsx)(i(),{className:"underline hover:font-bold",href:c+"/inscription",children:"modern"==r?"Inscrivez-vous d\xe8s maintenant.":"Inscris-toi maintenant !"})]})]})})}},5294:(e,s,r)=>{r.d(s,{A:()=>c});var n=r(4799),a=r(6886),t=r(8545),l=r(5862),i=r(4023);function c(e){let{type:s,donnees:r}=e,c=(0,a.r)(),o=(0,t.k)(c),[u,p]=(0,i.useState)(!1),d=s.charAt(0).toUpperCase()+s.slice(1);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"message"==s?o.elementSupprTitreMessage:o.elementSupprTitre,children:["⚠️ ",d," supprim\xe9 — ",(0,n.jsx)("p",{className:o.elementSupprTitreLien,onClick:()=>p(!0),children:"Voir les d\xe9tails"})]}),(0,n.jsx)(l.lG,{open:u,onClose:()=>p(!1),className:o.elementSupprDialogBox,children:(0,n.jsxs)(l.Lj,{className:o.elementSupprDialogPanel,children:[(0,n.jsxs)(l.L3,{className:o.elementSupprDialogTitre,children:["Ce ",s," a \xe9t\xe9 supprim\xe9"]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Raison :"})," ",r.getRaisonSuppression()]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Date :"})," ",r.getDateSuppression().toLocaleString()]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Auteur :"})," ",r.getUtilisateur().getUsername()]}),(0,n.jsx)("button",{onClick:()=>p(!1),className:o.elementSupprDialogBtn,children:"Fermer"})]})})]})}},5874:(e,s,r)=>{r.d(s,{A:()=>o});var n=r(4799),a=r(6886),t=r(8545),l=r(5862),i=r(8598),c=r(4023);function o(e){let{id:s,type:r,suppressionHandler:o,dialogBoxOuverte:u,setDialogBox:p}=e,d=(0,a.r)(),m=(0,t.k)(d),[h,x]=(0,c.useState)(""),[j,g]=(0,c.useState)(!1),[v,N]=(0,c.useState)(!1),[f,C]=(0,c.useState)(null),S=()=>{C(null),x(""),g(!1),N(!1),p(!1)},b=async()=>{try{N(!0),C(null),await o(s,h,j),S()}catch(e){C(e instanceof Error?e.message:"Erreur lors de la suppression du "+r),N(!1)}};return(0,n.jsx)(l.lG,{open:u,onClose:()=>p(!1),children:(0,n.jsx)("div",{className:m.supprFormConteneur,children:(0,n.jsx)(l.Lj,{className:m.supprFormPanel,children:(0,n.jsxs)("div",{className:m.supprFormContenu,children:[(0,n.jsxs)(l.L3,{className:m.supprFormTitre,children:["Supprimer ce ",r," ?"]}),(0,n.jsxs)(i.VY,{className:m.supprFormDesc,children:["Cette action supprimera le ",r,". Les utilisateurs non-admins n'y auront plus acc\xe8s.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Voulez-vous vraiment le supprimer ?"]}),f&&(0,n.jsx)("div",{className:m.messageFormDiv,children:f}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"raison",className:m.supprFormRaisonLabel,children:"Raison de la suppression"}),(0,n.jsx)("textarea",{id:"raison",value:h,onChange:e=>x(e.target.value),className:m.supprFormRaison,rows:3,placeholder:"Indiquez la raison de cette suppression...",disabled:v})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"cache",checked:j,onChange:e=>g(e.target.checked),className:m.supprFormCache,disabled:v}),(0,n.jsxs)("label",{htmlFor:"cache",className:m.supprFormCacheLabel,children:["Cochez cette case si vous souhaitez que le ",r," soit cach\xe9 apr\xe8s suppression."]})]})]}),(0,n.jsxs)("div",{className:"flex w-full pt-2 gap-4 justify-center",children:[(0,n.jsx)("button",{onClick:()=>S(),className:m.supprFormBtnAnnuler,children:"Annuler"}),(0,n.jsx)("button",{onClick:()=>b(),className:m.supprFormBtnConfirmer,children:"Supprimer"})]})]})})})})}},7104:(e,s,r)=>{r.d(s,{M:()=>n});function n(e,s,r){let n=[];return s?n=e:e.forEach(e=>{let s=e.getElementSupprime();s&&(s.getCache()||"old"!=r)||n.push(e)}),n}}}]);