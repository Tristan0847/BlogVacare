(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[930],{1527:(e,s,r)=>{"use strict";r.d(s,{AuthProvider:()=>l,S:()=>c});var n=r(4799),t=r(6355),a=r(4023);let i=(0,a.createContext)(void 0);function l(e){let{children:s}=e,[r,l]=(0,a.useState)(!1),[c,o]=(0,a.useState)(null),[u,d]=(0,a.useState)(!0),{mutation:m}=(0,t.M1)(),{refetch:x}=(0,t.Tm)(),p=async()=>(d(!1),o(null),l(!1),{succes:!0});return(0,a.useEffect)(()=>{p()},[]),(0,n.jsx)(i.Provider,{value:{estConnecte:r,utilisateur:c,chargement:u,verifierAuth:p,connexion:e=>{o(e),l(!0)},deconnexion:()=>{o(null),l(!1)}},children:s})}function c(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("Hook du contexte inexistant");return e}},1545:(e,s,r)=>{"use strict";r.d(s,{f:()=>l});var n=r(4799),t=r(6886),a=r(8545);function i(e){let{message:s,type:r="info"}=e,i=(0,t.r)(),l=(0,a.k)(i),c=l.messageBase,o="";switch(r){case"error":o=l.messageErreur;break;case"loading":o=l.messageChargement;break;default:o=l.messageDefaut}return(0,n.jsx)("div",{className:"".concat(c," ").concat(o),children:s})}function l(e){let{chargement:s,erreur:r,estVide:t,chargementMessage:a="Chargement en cours...",messageVide:l="Aucune donn\xe9e disponible",children:c}=e;return s?(0,n.jsx)(i,{message:a,type:"loading"}):r?(0,n.jsx)(i,{message:"Erreur : ".concat(r.message),type:"error"}):t?(0,n.jsxs)("div",{children:[c,(0,n.jsx)(i,{message:l,type:"info"})]}):(0,n.jsx)("div",{children:c})}},4216:(e,s,r)=>{"use strict";function n(e,s,r,n,t){let a,i=!n&&s,l=n?null:r;return{donnees:a=n?n.map(t):e?Array.isArray(e)?e:[e]:[],chargement:i,erreur:l,estVide:0===a.length}}r.d(s,{T:()=>n})},5030:(e,s,r)=>{"use strict";r.d(s,{I:()=>c});var n=r(4799),t=r(6886),a=r(8545),i=r(1463),l=r.n(i);function c(e){let{message:s}=e,r=(0,t.r)(),i=(0,a.k)(r),c="modern"==r?"":"/"+r;return(0,n.jsx)("section",{className:"mx-auto px-4 py-5 max-w-4xl",children:(0,n.jsxs)("div",{className:i.accesRestreintDiv,children:[(0,n.jsx)("div",{className:i.accesRestreintConteneurH3,children:(0,n.jsx)("h3",{className:i.accesRestreintH3,children:"Acc\xe8s restreint"})}),(0,n.jsx)("p",{className:i.accesRestreintMessage,children:s}),(0,n.jsx)(l(),{href:c+"/connexion",className:i.accesRestreintLien,children:"Se connecter"}),(0,n.jsxs)("p",{children:["Pas encore de compte? ",(0,n.jsx)(l(),{className:"underline hover:font-bold",href:c+"/inscription",children:"modern"==r?"Inscrivez-vous d\xe8s maintenant.":"Inscris-toi maintenant !"})]})]})})}},5294:(e,s,r)=>{"use strict";r.d(s,{A:()=>c});var n=r(4799),t=r(6886),a=r(8545),i=r(5862),l=r(4023);function c(e){let{type:s,donnees:r}=e,c=(0,t.r)(),o=(0,a.k)(c),[u,d]=(0,l.useState)(!1),m=s.charAt(0).toUpperCase()+s.slice(1);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"message"==s?o.elementSupprTitreMessage:o.elementSupprTitre,children:["⚠️ ",m," supprim\xe9 — ",(0,n.jsx)("p",{className:o.elementSupprTitreLien,onClick:()=>d(!0),children:"Voir les d\xe9tails"})]}),(0,n.jsx)(i.lG,{open:u,onClose:()=>d(!1),className:o.elementSupprDialogBox,children:(0,n.jsxs)(i.Lj,{className:o.elementSupprDialogPanel,children:[(0,n.jsxs)(i.L3,{className:o.elementSupprDialogTitre,children:["Ce ",s," a \xe9t\xe9 supprim\xe9"]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Raison :"})," ",r.getRaisonSuppression()]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Date :"})," ",r.getDateSuppression().toLocaleString()]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Auteur :"})," ",r.getUtilisateur().getUsername()]}),(0,n.jsx)("button",{onClick:()=>d(!1),className:o.elementSupprDialogBtn,children:"Fermer"})]})})]})}},5874:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var n=r(4799),t=r(6886),a=r(8545),i=r(5862),l=r(8598),c=r(4023);function o(e){let{id:s,type:r,suppressionHandler:o,dialogBoxOuverte:u,setDialogBox:d}=e,m=(0,t.r)(),x=(0,a.k)(m),[p,h]=(0,c.useState)(""),[j,g]=(0,c.useState)(!1),[v,N]=(0,c.useState)(!1),[f,b]=(0,c.useState)(null),S=()=>{b(null),h(""),g(!1),N(!1),d(!1)},C=async()=>{try{N(!0),b(null),await o(s,p,j),S()}catch(e){b(e instanceof Error?e.message:"Erreur lors de la suppression du "+r),N(!1)}};return(0,n.jsx)(i.lG,{open:u,onClose:()=>d(!1),children:(0,n.jsx)("div",{className:x.supprFormConteneur,children:(0,n.jsx)(i.Lj,{className:x.supprFormPanel,children:(0,n.jsxs)("div",{className:x.supprFormContenu,children:[(0,n.jsxs)(i.L3,{className:x.supprFormTitre,children:["Supprimer ce ",r," ?"]}),(0,n.jsxs)(l.VY,{className:x.supprFormDesc,children:["Cette action supprimera le ",r,". Les utilisateurs non-admins n'y auront plus acc\xe8s.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Voulez-vous vraiment le supprimer ?"]}),f&&(0,n.jsx)("div",{className:x.messageFormDiv,children:f}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"raison",className:x.supprFormRaisonLabel,children:"Raison de la suppression"}),(0,n.jsx)("textarea",{id:"raison",value:p,onChange:e=>h(e.target.value),className:x.supprFormRaison,rows:3,placeholder:"Indiquez la raison de cette suppression...",disabled:v})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"cache",checked:j,onChange:e=>g(e.target.checked),className:x.supprFormCache,disabled:v}),(0,n.jsxs)("label",{htmlFor:"cache",className:x.supprFormCacheLabel,children:["Cochez cette case si vous souhaitez que le ",r," soit cach\xe9 apr\xe8s suppression."]})]})]}),(0,n.jsxs)("div",{className:"flex w-full pt-2 gap-4 justify-center",children:[(0,n.jsx)("button",{onClick:()=>S(),className:x.supprFormBtnAnnuler,children:"Annuler"}),(0,n.jsx)("button",{onClick:()=>C(),className:x.supprFormBtnConfirmer,children:"Supprimer"})]})]})})})})}},6911:(e,s,r)=>{"use strict";r.d(s,{F_:()=>c,Ge:()=>u,Gm:()=>o,Ox:()=>l});var n=r(1087),t=r(8384),a=r(1057);let i=n.E.get(n.I.I_DossierService);function l(e){return(0,a.S)(()=>i.recupererDossiers(e),[])}function c(e){return(0,a.S)(e=>i.recupererDossierParSlug(e),[e],{actif:!!e})}function o(){return(0,t.L)(async(e,s)=>{await i.creerDossier(e,s)})}function u(){return(0,t.L)(async(e,s,r)=>{await i.supprimerDossier(e,s,r)})}},7930:(e,s,r)=>{Promise.resolve().then(r.bind(r,9118))},9118:(e,s,r)=>{"use strict";r.d(s,{default:()=>b});var n=r(4799),t=r(6886),a=r(1463),i=r.n(a);function l(){return"old"==(0,t.r)()?(0,n.jsx)("div",{className:"mx-auto px-4 border-2 border-black bg-white max-w-3xl",children:(0,n.jsxs)("div",{className:"text-center mb-10",children:[(0,n.jsx)("h2",{className:"font-bold text-3xl pt-4",children:"Bienvenue sur le Forum de SuperFlashAtomicMan et Vince"}),(0,n.jsx)("p",{className:"px-2 text-lg",children:"Si vous n'\xeates ni l'unique SuperFlashAtomicMan, ni l'audacieux Vince, ni le TRES intelligent Mister Owl, vous n'\xeates PAS le bienvenue ici ! Ce forum est priv\xe9 et interdit aux adultes !"})]})}):(0,n.jsx)("section",{className:"mx-auto px-4",children:(0,n.jsxs)("div",{className:"text-center mb-10",children:[(0,n.jsxs)("h1",{className:"text-6xl font-extrabold text-primary-dark drop-shadow-md leading-tight",children:["Bienvenue sur le Blog de ",(0,n.jsx)(i(),{href:"/vacare",className:"text-primary-dark/40 hover:bg-green-800/10 hover:text-primary-dark/90 transition",children:"Vacare"})]}),(0,n.jsxs)("p",{className:"mt-4 max-w-xl mx-auto text-lg text-neutral-700 leading-relaxed px-2",children:[(0,n.jsx)(i(),{href:"/old",className:"underline hover:bg-green-800 hover:text-white",children:"Anciennement"})," blog de Vince et de son meilleur ami, ce forum est aujourd'hui celui de Vacare et, par cons\xe9quent, de ",(0,n.jsx)("strong",{children:"N0Realis"}),".",(0,n.jsx)("br",{}),"Espace r\xe9serv\xe9 aux employ\xe9s autoris\xe9s, ne contactez Vacare qu'en cas de n\xe9cessit\xe9 absolue.",(0,n.jsx)("br",{}),(0,n.jsx)("strong",{children:"Nos r\xeaves deviendront r\xe9alit\xe9."})]})]})})}var c=r(4023),o=r(5030),u=r(8545);function d(e){let{onSubmit:s,chargement:r,erreur:a,estConnecte:i}=e,[l,d]=(0,c.useState)(""),[m,x]=(0,c.useState)(""),p=(0,t.r)(),h=(0,u.k)(p),j=async e=>{e.preventDefault(),await s(l,m),d(""),x("")};return i?(0,n.jsx)("section",{className:"w-full max-w-4xl mx-auto px-4 py-5",children:(0,n.jsxs)("form",{onSubmit:j,className:h.formContainer,children:[(0,n.jsx)("h3",{className:h.formH3,children:"old"==p?"Cr\xe9e ton dossier !":"Cr\xe9er un nouveau dossier de blogs"}),a&&(0,n.jsx)("div",{className:h.messageFormDiv,children:a.message}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"nom",className:h.formLabel,children:"Nom du dossier"}),(0,n.jsx)("input",{id:"nom",type:"text",value:l,onChange:e=>d(e.target.value),maxLength:255,className:h.formInput,required:!0}),(0,n.jsx)("label",{htmlFor:"description",className:h.formLabel,children:"Description du dossier"}),(0,n.jsx)("textarea",{id:"description",value:m,onChange:e=>x(e.target.value),rows:4,className:h.formInput,required:!0}),(0,n.jsx)("div",{className:"flex gap-2",children:(0,n.jsx)("button",{type:"submit",disabled:r,className:h.formBouton,children:r?"Cr\xe9ation en cours...":"old"==p?"Cr\xe9er ton dossier !":"Cr\xe9er le dossier"})})]})]})}):(0,n.jsx)(o.I,{message:"Vous devez \xeatre connect\xe9 pour cr\xe9er un dossier."})}var m=r(5874),x=r(5294);function p(e){let{dossier:s,suppressionHandler:r}=e,a=(0,t.r)(),l=(0,u.k)(a),o="modern"==a?"":"/"+a,[d,p]=(0,c.useState)(!1),h=s.getElementSupprime();return(0,n.jsxs)("div",{className:l.listeDossierItem,children:[(0,n.jsxs)("div",{className:l.listeDossierLienConteneur,children:[(0,n.jsx)(i(),{href:"".concat(o,"/blogs/").concat(s.getSlug()),className:l.listeDosierLien,children:s.getTitre()}),r&&!h&&(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:()=>p(!0),className:l.supprimerDossierBtn,children:"Supprimer"}),(0,n.jsx)(m.A,{id:s.getId(),type:"dossier",suppressionHandler:r,dialogBoxOuverte:d,setDialogBox:p})]})]}),(0,n.jsx)("div",{className:l.listeDossierItemSoustitre,children:s.getDescription()}),(0,n.jsxs)("div",{className:l.listeDossierItemSoustitre,children:["Cr\xe9\xe9 par ",s.getUtilisateur().getUsername()]}),h&&(0,n.jsx)(x.A,{type:"dossier",donnees:h})]})}function h(e){let{dossiers:s,suppressionHandler:r}=e,a=(0,t.r)(),i=(0,u.k)(a);if(s.length>0)return(0,n.jsx)("section",{className:"mx-auto px-4",children:(0,n.jsx)("div",{className:i.listeDossiersDiv,children:(0,n.jsx)("ul",{className:i.listeDossiersUl,children:s.map(e=>(0,n.jsx)("li",{className:i.listeDossiersLi,children:(0,n.jsx)(p,{dossier:e,suppressionHandler:r})},e.getId()))})})})}var j=r(1545),g=r(1527),v=r(4216),N=r(6911),f=r(7828);function b(e){var s;let{dossiersPrecharges:r}=e,a=(0,t.r)(),{donnees:i,chargement:c,erreur:o,refetch:u}=(0,N.Ox)(a),{mutation:m,chargement:x,erreur:p}=(0,N.Gm)(),{mutation:b}=(0,N.Ge)(),{estConnecte:S,utilisateur:C}=(0,g.S)(),{donnees:D,chargement:y,erreur:k}=(0,v.T)(i,c,o,r,f.O.fromJSON),w=async(e,s)=>{await m(e,s),u()},F=async(e,s,r)=>{await b(e,s,r),u()},A=null!=(s=null==C?void 0:C.getEstAdmin())&&s;return(0,n.jsxs)(j.f,{chargement:y,erreur:k,estVide:0==D.length,messageVide:"Aucun dossier trouv\xe9",chargementMessage:"Chargement des dossiers...",children:[(0,n.jsx)(l,{}),(0,n.jsx)(d,{onSubmit:w,chargement:x,erreur:p,estConnecte:S}),(0,n.jsx)(h,{dossiers:D,suppressionHandler:A?F:void 0})]})}}}]);