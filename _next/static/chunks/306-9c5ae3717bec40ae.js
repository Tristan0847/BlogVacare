"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[306],{1527:(e,s,r)=>{r.d(s,{AuthProvider:()=>c,S:()=>l});var n=r(4799),a=r(6355),t=r(4023);let i=(0,t.createContext)(void 0);function c(e){let{children:s}=e,[r,c]=(0,t.useState)(!1),[l,o]=(0,t.useState)(null),[u,p]=(0,t.useState)(!0),{mutation:d}=(0,a.M1)(),{refetch:m}=(0,a.Tm)(),h=async()=>{try{p(!0),await d();let e=await m();if(!e)throw Error("Vous n'\xeates pas connect\xe9");return o(e),c(!0),{succes:!0}}catch(e){return c(!1),o(null),{succes:!1,erreur:e instanceof Error?e.message:"Erreur inconnue lors de l'authentification"}}finally{p(!1)}};return(0,t.useEffect)(()=>{h()},[]),(0,n.jsx)(i.Provider,{value:{estConnecte:r,utilisateur:l,chargement:u,verifierAuth:h,connexion:e=>{o(e),c(!0)},deconnexion:()=>{o(null),c(!1)}},children:s})}function l(){let e=(0,t.useContext)(i);if(void 0===e)throw Error("Hook du contexte inexistant");return e}},1545:(e,s,r)=>{r.d(s,{f:()=>c});var n=r(4799),a=r(6886),t=r(8545);function i(e){let{message:s,type:r="info"}=e,i=(0,a.r)(),c=(0,t.k)(i),l=c.messageBase,o="";switch(r){case"error":o=c.messageErreur;break;case"loading":o=c.messageChargement;break;default:o=c.messageDefaut}return(0,n.jsx)("div",{className:"".concat(l," ").concat(o),children:s})}function c(e){let{chargement:s,erreur:r,estVide:a,chargementMessage:t="Chargement en cours...",messageVide:c="Aucune donn\xe9e disponible",children:l}=e;return s?(0,n.jsx)(i,{message:t,type:"loading"}):r?(0,n.jsx)(i,{message:"Erreur : ".concat(r.message),type:"error"}):a?(0,n.jsxs)("div",{children:[l,(0,n.jsx)(i,{message:c,type:"info"})]}):(0,n.jsx)("div",{children:l})}},2218:(e,s,r)=>{r.d(s,{Jx:()=>o,R0:()=>c,Ux:()=>l,zU:()=>u});var n=r(1087),a=r(8384),t=r(1057);let i=n.E.get(n.I.I_BlogService);function c(e,s){return(0,t.S)(e=>i.recupererBlogsDuDossier(e,s),[e],{actif:!!e})}function l(e,s){return(0,t.S)((e,s)=>i.recupererBlogParSlug(e,s),[s,e],{actif:!!e&&!!s})}function o(){return(0,a.L)(async(e,s,r)=>{await i.creerBlog(e,s,r)})}function u(){return(0,a.L)(async(e,s,r)=>{await i.supprimerBlog(e,s,r)})}},4216:(e,s,r)=>{r.d(s,{T:()=>n});function n(e,s,r,n,a){let t,i=!n&&s,c=n?null:r;return{donnees:t=n?n.map(a):e?Array.isArray(e)?e:[e]:[],chargement:i,erreur:c,estVide:0===t.length}}},5030:(e,s,r)=>{r.d(s,{I:()=>l});var n=r(4799),a=r(6886),t=r(8545),i=r(1463),c=r.n(i);function l(e){let{message:s}=e,r=(0,a.r)(),i=(0,t.k)(r),l="modern"==r?"":"/"+r;return(0,n.jsx)("section",{className:"mx-auto px-4 py-5 max-w-4xl",children:(0,n.jsxs)("div",{className:i.accesRestreintDiv,children:[(0,n.jsx)("div",{className:i.accesRestreintConteneurH3,children:(0,n.jsx)("h3",{className:i.accesRestreintH3,children:"Acc\xe8s restreint"})}),(0,n.jsx)("p",{className:i.accesRestreintMessage,children:s}),(0,n.jsx)(c(),{href:l+"/connexion",className:i.accesRestreintLien,children:"Se connecter"}),(0,n.jsxs)("p",{children:["Pas encore de compte? ",(0,n.jsx)(c(),{className:"underline hover:font-bold",href:l+"/inscription",children:"modern"==r?"Inscrivez-vous d\xe8s maintenant.":"Inscris-toi maintenant !"})]})]})})}},5294:(e,s,r)=>{r.d(s,{A:()=>l});var n=r(4799),a=r(6886),t=r(8545),i=r(5862),c=r(4023);function l(e){let{type:s,donnees:r}=e,l=(0,a.r)(),o=(0,t.k)(l),[u,p]=(0,c.useState)(!1),d=s.charAt(0).toUpperCase()+s.slice(1);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"message"==s?o.elementSupprTitreMessage:o.elementSupprTitre,children:["⚠️ ",d," supprim\xe9 — ",(0,n.jsx)("p",{className:o.elementSupprTitreLien,onClick:()=>p(!0),children:"Voir les d\xe9tails"})]}),(0,n.jsx)(i.lG,{open:u,onClose:()=>p(!1),className:o.elementSupprDialogBox,children:(0,n.jsxs)(i.Lj,{className:o.elementSupprDialogPanel,children:[(0,n.jsxs)(i.L3,{className:o.elementSupprDialogTitre,children:["Ce ",s," a \xe9t\xe9 supprim\xe9"]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Raison :"})," ",r.getRaisonSuppression()]}),(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Date :"})," ",r.getDateSuppression().toLocaleString()]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:o.elementSupprDialogContenu,children:"Auteur :"})," ",r.getUtilisateur().getUsername()]}),(0,n.jsx)("button",{onClick:()=>p(!1),className:o.elementSupprDialogBtn,children:"Fermer"})]})})]})}},5874:(e,s,r)=>{r.d(s,{A:()=>o});var n=r(4799),a=r(6886),t=r(8545),i=r(5862),c=r(8598),l=r(4023);function o(e){let{id:s,type:r,suppressionHandler:o,dialogBoxOuverte:u,setDialogBox:p}=e,d=(0,a.r)(),m=(0,t.k)(d),[h,x]=(0,l.useState)(""),[j,g]=(0,l.useState)(!1),[v,f]=(0,l.useState)(!1),[N,S]=(0,l.useState)(null),C=()=>{S(null),x(""),g(!1),f(!1),p(!1)},b=async()=>{try{f(!0),S(null),await o(s,h,j),C()}catch(e){S(e instanceof Error?e.message:"Erreur lors de la suppression du "+r),f(!1)}};return(0,n.jsx)(i.lG,{open:u,onClose:()=>p(!1),children:(0,n.jsx)("div",{className:m.supprFormConteneur,children:(0,n.jsx)(i.Lj,{className:m.supprFormPanel,children:(0,n.jsxs)("div",{className:m.supprFormContenu,children:[(0,n.jsxs)(i.L3,{className:m.supprFormTitre,children:["Supprimer ce ",r," ?"]}),(0,n.jsxs)(c.VY,{className:m.supprFormDesc,children:["Cette action supprimera le ",r,". Les utilisateurs non-admins n'y auront plus acc\xe8s.",(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Voulez-vous vraiment le supprimer ?"]}),N&&(0,n.jsx)("div",{className:m.messageFormDiv,children:N}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"raison",className:m.supprFormRaisonLabel,children:"Raison de la suppression"}),(0,n.jsx)("textarea",{id:"raison",value:h,onChange:e=>x(e.target.value),className:m.supprFormRaison,rows:3,placeholder:"Indiquez la raison de cette suppression...",disabled:v})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",id:"cache",checked:j,onChange:e=>g(e.target.checked),className:m.supprFormCache,disabled:v}),(0,n.jsxs)("label",{htmlFor:"cache",className:m.supprFormCacheLabel,children:["Cochez cette case si vous souhaitez que le ",r," soit cach\xe9 apr\xe8s suppression."]})]})]}),(0,n.jsxs)("div",{className:"flex w-full pt-2 gap-4 justify-center",children:[(0,n.jsx)("button",{onClick:()=>C(),className:m.supprFormBtnAnnuler,children:"Annuler"}),(0,n.jsx)("button",{onClick:()=>b(),className:m.supprFormBtnConfirmer,children:"Supprimer"})]})]})})})})}}}]);