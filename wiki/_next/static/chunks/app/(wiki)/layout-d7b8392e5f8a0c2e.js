(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[119],{1212:()=>{},1437:()=>{},1548:()=>{},2103:(e,t,r)=>{"use strict";r.d(t,{y:()=>i});var s=r(533),a=r.n(s),n=r(7011);let l=a().join((0,n.cwd)(),"public","data");a().join(l,"index-recherche.json");var o=r(8495);async function i(e){let{requete:t,options:r={}}=e;try{let{limit:e,threshold:s=.4,autoLoad:a=!0}=r,n=await fetch("/wiki/data/index-recherche.json");if(!n.ok)throw Error("Erreur lors du chargement de l'index de recherche");let l=await n.json(),i=[];if(l.length>0){let r=new o.A(l,{keys:[{name:"titre",weight:2},{name:"categorie",weight:1},{name:"sousCategorie",weight:.8},{name:"auteur",weight:1.5},{name:"extrait",weight:.5},{name:"tags",weight:1}],threshold:s,includeScore:!0,minMatchCharLength:2,ignoreLocation:!0});r&&0!==t.trim().length&&(i=r.search(t.trim(),e?{limit:e}:void 0).map(e=>e.item))}return{resultats:i,enChargement:!1,erreur:null}}catch(e){return{resultats:[],enChargement:!1,erreur:e.message}}}},2694:(e,t,r)=>{Promise.resolve().then(r.bind(r,5447)),Promise.resolve().then(r.t.bind(r,1437,23)),Promise.resolve().then(r.t.bind(r,1548,23)),Promise.resolve().then(r.t.bind(r,1212,23))},5447:(e,t,r)=>{"use strict";r.d(t,{Header:()=>i});var s=r(4568),a=r(2536),n=r(9664),l=r.n(n),o=r(8963);function i(){return(0,s.jsx)("header",{className:"bg-gray-800 shadow-md py-4 px-6 border-b-2 border-gray-600 z-20",children:(0,s.jsx)("nav",{className:"mx-auto max-w-11/12",children:(0,s.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white whitespace-nowrap hover:scale-105 transition-transform duration-200 ease-in-out mx-auto lg:mx-0",children:(0,s.jsxs)(l(),{href:"/",className:"flex flex-row items-center",children:[(0,s.jsx)(a.default,{src:"/wiki/assets/logo/Oeil de L'occulte (Blanc v3 miniature).png",alt:"",width:40,height:40}),"L'Oeil de l'Occulte"]})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 lg:order-3",children:[(0,s.jsx)(l(),{href:"/graphe-de-connaissance",className:"w-full sm:w-auto text-center text-white border-2 border-gray-600 px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 ease-in-out whitespace-nowrap",children:"Tous nos articles"}),(0,s.jsx)(l(),{href:"/article-aleatoire",className:"w-full sm:w-auto text-center text-white border-2 border-gray-600 px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 ease-in-out whitespace-nowrap",children:"Article au hasard"}),(0,s.jsx)(l(),{href:"/a-propos",className:"w-full sm:w-auto text-center text-white border-2 border-gray-600 px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 ease-in-out whitespace-nowrap",children:"Qui sommes-nous ?"})]}),(0,s.jsx)(o.k,{placeholder:"Rechercher un article...",suggestionsMax:5,montrerSuggestions:!0,className:"w-full lg:flex-1 lg:max-w-2xl lg:mx-8 lg:order-2"})]})})})}},8963:(e,t,r)=>{"use strict";r.d(t,{k:()=>c});var s=r(4568),a=r(2103),n=r(9664),l=r.n(n),o=r(7541),i=r(7620);function c(e){let{requeteInitiale:t="",placeholder:r="Rechercher un article...",suggestionsMax:n=5,montrerSuggestions:l=!0,onResultats:c,onChangementRequete:d,className:h="",autoFocus:g=!1}=e,[m,x]=(0,i.useState)(t),[f,w]=(0,i.useState)(!1),p=(0,i.useRef)(null),v=(0,i.useRef)(null),b=(0,o.useRouter)(),[y,j]=(0,i.useState)([]),[N,k]=(0,i.useState)(!1),[C,E]=(0,i.useState)(null);(0,i.useEffect)(()=>{!async function(){if(m.trim().length>2){k(!0);let{resultats:e,enChargement:t,erreur:r}=await (0,a.y)({requete:m,options:{limit:n}});j(e),k(t),E(r)}}()},[m,n]),(0,i.useEffect)(()=>{function e(e){p.current&&e.target instanceof Node&&!p.current.contains(e.target)&&w(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,i.useEffect)(()=>{x(t)},[t]);let L=e=>{w(!1),b.push("/wiki/article/".concat(e.slug))};return(0,s.jsxs)("div",{className:"relative ".concat(h),ref:p,children:[(0,s.jsx)("input",{type:"text",value:m,autoFocus:g,placeholder:r,ref:v,onChange:e=>{var t;x(t=e.target.value),w(!0),null==d||d(t)},onFocus:()=>{l&&w(!0)},onKeyDown:e=>{"Enter"===e.key&&(w(!1),c?c(m):y.length>=1&&y[0].titre.toLowerCase()===m.trim().toLowerCase()?b.push("/article/".concat(y[0].slug)):b.push("/recherche?requete=".concat(encodeURIComponent(m))))},className:"w-full border border-gray-500 rounded-md px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-800"}),f&&l&&m.trim().length>2&&(0,s.jsxs)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-700 border border-gray-500 rounded-md shadow-lg z-10 max-h-60 overflow-y-auto",children:[N&&(0,s.jsx)("div",{className:"p-4 text-gray-200",children:"Chargement des suggestions..."}),C&&(0,s.jsxs)("div",{className:"p-4 text-red-500",children:["Erreur lors de la recherche : ",C]}),!N&&!C&&0===y.length&&(0,s.jsx)("div",{className:"p-4 text-gray-200",children:"Aucun r\xe9sultat trouv\xe9."}),!N&&!C&&y.map(e=>(0,s.jsx)(u,{article:e,onClic:L},e.slug))]})]})}function u(e){let{article:t,onClic:r}=e;return(0,s.jsx)(l(),{href:"/article/".concat(t.slug),onClick:()=>r(t),className:"block px-4 py-2 border-b border-gray-700 hover:bg-gray-600 transition-colors",children:(0,s.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"font-medium text-white truncate",children:t.titre}),(0,s.jsxs)("div",{className:"text-sm text-gray-400 truncate",children:[t.categorie,", ",t.sousCategorie]}),(0,s.jsx)("div",{className:"text-sm text-gray-500 truncate",children:t.extrait})]})})})}}},e=>{e.O(0,[594,664,536,311,587,18,358],()=>e(e.s=2694)),_N_E=e.O()}]);